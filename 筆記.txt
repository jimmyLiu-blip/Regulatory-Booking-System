以Calendar Tools的方式呈現

1.
 A會有一個自己的以下功能、B也有自己的以下功能 (兩邊互不干擾 A區、B區但是功能相同，頂多場地命名不同)

=> 使用Resource Group 區分 A / B

=> 只有排程主管可以進入兩區、現場主管只能針對自己負責的區域

=> 工程師只能進入自己負責的區域

2. 是否支援權限代理，現場主管可以代理排程主管(但是要記錄開案、最後一次編輯者，是否需要排程主管同意代理?)

=> 多一張 Delegation 表

3. 以場地主體 

4. 排程主管開案(可以手動 or 自動import csv檔案) 他不管預估時間和預估結束時間 

=> 要支援新增、編輯、刪除、複製功能 (不一定要製作多個CRUD按鈕，只要依據使用者點擊的內容/位置決定)

=> 案件ID、案件名稱、法規、測項 (都要有支援其他選項)

5. 現場主管依據排程主管開案，填寫預估測試時間&預估結束時間，並分配項目到場地，負責該場地的工程師會收到email通知有案件 

=> 要支援新增、編輯、刪除、複製功能 (不一定要製作多個CRUD按鈕，只要依據使用者點擊的內容/位置決定)

=> 現場主管是看日曆會知道案件排程

=> 日曆呈現的是排程（案件的預估時間、場地指派）

=> 現場主管可以根據工程師回報進度調整預測結束日期(必須記錄"預估變動歷史"，不能直接覆蓋預估時間)

=> 現場主管手動調整（最實務），雖然工程師過程遇到狀況，但是不一定會影響到測試時間

6. 如果同一項目同時分配到2個場地中，只要其中一個工程師開始測試(點選測試開始)，就開始記錄實際測試日期 

=> 工程師記錄不用實際填時間，透過點選開始按鈕，點選按鈕停止或繼續計算 

=> 假如忘記按結束，但是卻開始下一個測試開始，會自動補上時間(中午休息會扣掉除非自行填寫)，會提供7天可修改空間，但是時間記錄一旦

開始就不可刪除

=> 超過 7 天 → 只能唯讀

7. 結束日期紀錄當該測項工程師點選送出時，會跳出對話框，是否寄出通知給Reviewer審查!! 

=> 當Reviewer審查結束時，將狀態變更完成時紀錄案件結束日期 

=> 這樣有預測開始結束 & 實際開始結束，可以畫甘特圖分析

8. 工程師針對負責的項目在對應的場地回報進度內容，回報後可將今日填寫的項目統一回報email通知給現場主管

=> 也要支援工程師可以手動先將通知發出

9. 主管沒有開案 或是 非測試案件該如何處理? 工程師直接甚麼事情都不做嗎? 如果讓工程師可以新增任務，是否影響到排程?

=> 工程師不能新增 Appointment (但可新增「個人備註」（不會影響排程）)

=> 由現場主管或排程主管標記為「非案件類型事件」

=> 若工程師想反應需要加入某測項：工程師 → 現場主管 →（必要時）排程主管新增案件

10. 工程師回報不會直接展示在日曆，而是附著在 Appointment 裡（透過點擊打開 Dialog）

11. 角色有4個：排程主管開案 → 現場主管派案填寫日期 → 工程師測試回報 → Reviewer紀錄完成



權限架構 (4角色)：
排程主管：開案、管理A/B兩區
現場主管：派案、填寫預估時間、調整排程（僅負責區域）
工程師：測試執行、進度回報（僅負責區域）
Reviewer：審查測試結果、標記完成

核心功能模組：
✅ Resource Group 分區 (A區/B區)
✅ 權限代理機制 (Delegation Table)
✅ 案件CRUD (支援CSV匯入)
✅ 場地指派與日曆排程
✅ 預估時間變動歷史紀錄
✅ 實際測試時間追蹤 (開始/暫停/結束)
✅ 7天修改期限機制
✅ 工程師進度回報 (附著在Appointment)
✅ Email通知機制
✅ Reviewer審查流程
✅ 甘特圖分析 (預估 vs 實際)

案件狀態流程：
□ 待派案 (排程主管開案後)
□ 已排程 (現場主管分配場地&時間)
□ 測試中 (工程師開始測試)
□ 待審查 (工程師送出)
□ 審查中 (Reviewer處理中)
□ 已完成 (Reviewer確認)
□ 已取消/暫停
□ 退回修正

場地資源管理：
•	場地數量：A區和B區各有幾個場地？
A：10個場地
B：10個場地
•	場地命名規則：A1, A2... / B1, B2...？
A區：
SAC 1	SAC 2		SAC 3		FAC 1
Conducted 1	Conducted 2		Conducted 3
Conducted 4	Conducted 5		Conducted 6
B區：
SAC C	SAC D		SAC G		FAC A
Conducted A	Conducted B		Conducted C
Conducted D	Conducted E		Conducted F
•	場地衝突處理：同一時間同一場地只能一個案件？還是可以共用？
同一時間同一場地可以共用，可能主管增派支援到該場地，該場地有多人同時執行
•	場地維護/停用：如何標記場地不可用（維修、假日）？
維修時不可使用，假日工程師有可能會加班，應該開放使用

工程師指派邏輯：
•	指派方式： 
o	只指派場地，該場地的工程師自動收到
o	但也可以有手動指派功能；如果沒有手動指派，則依據場地
•	多工程師協作： 
o	同一個測項可以多個工程師同時進行
o	如果2個場地都在測同一測項，進度如何同步
	如果不需要填寫%數，進度由現場主管根據工程師的回報自行掌握呢
•	工程師負載顯示：日曆上是否顯示工程師的工作量？
o	日曆上只顯示案件的排程，這樣主管才一目瞭然，不然很花

時間計算規則
•	工作時間定義： 
o	上班時間：08:30-17:00
o	中午休息：12:00-13:00自動扣除
o	假日/非工作日如何處理，工程師有可能假日加班
=> 
1. 建立「工作日曆」設定 - 預設：週一~週五為工作日 - 可標記特定日期為「假日」或「工作日」 
2. 工程師可選擇「假日加班」 - 點選「開始測試」時，系統自動記錄 - 假日工時以不同顏色標記 (例如橘色) 
3. 時間計算規則 - 假日工作：不扣除午休時間 (因為可能彈性) - 或保留午休扣除，但允許工程師手動修改
•	跨日案件： 
o	如果測試跨夜（例如24小時測試），如何計算？ 
=>
增加「測試類型」欄位： 
□ 一般測試 (扣除非工作時間) 
□ 連續測試 (24小時不間斷計算) 
若選「連續測試」： 12/3 08:30 ~ 12/4 08:30 = 24hr (不扣除任何時間)
o	只需要「累計測試時間」 

•	自動補時規則：
o	忘記按結束，開始下一個測試時，前一個測試的結束時間 = 下一個開始時間
	自動補時 + 提醒
	 系統彈出提示框：
	┌─────────────────────────┐
	│ ⚠️ 偵測到未結束的測試      │
	│                           │
	│ 測項A (09:00開始) 尚未結束 │
	│                           │
	│ 自動設定結束時間為：       │
	│ ○ 12:00 (午休前)         │
	│ ○ 14:00 (測項B開始前)    │
	│ ○ 手動輸入：[____]       │
	│                           │
	│ [確認] [取消測項B]        │
	└─────────────────────────┘
	✅ 優點：給工程師選擇權，又能防止忘記
	
Email通知觸發點：
目前提到的通知：
✅ 現場主管分配案件 → 工程師收到通知
✅ 工程師統一回報    → 現場主管收到通知
✅ 工程師送出測試    → Reviewer收到通知
需要補充：
排程主管開案後，是否通知現場主管✅
預估時間變動，是否通知相關人員✅
Reviewer審查完成，是否通知排程主管/現場主管✅
案件逾期（超過預估結束時間），是否自動提醒✅

權限代理細節：
•	代理申請流程：兩者並行
o	現場主管自行申請 → 排程主管線上核准
o	排程主管主動授權
•	代理範圍： 
o	完全權限代理 
•	代理期限：
o	需要設定代理的起迄日期
•	代理紀錄：
o	需要顯示「由XXX代理操作」
o	代理期間的操作需要排程主管事後確認

日曆顯示設定
•	預設視圖：月視圖(但是可以切換成週視圖)
📅 日曆顯示邏輯 - 正確理解
✅ 應該顯示的內容
日曆上只顯示：
- 排程主管開的「案件」
- 現場主管分配的「場地 + 預估時間」
也就是「正式排程」
❌ 不應該顯示的內容
日曆上不顯示：
- 工程師的進度回報 (這些是附著在案件裡)
- 工程師的個人備註 (不影響排程)
- 工程師的實際測試時間記錄 (這些是內部資料)

日曆主視圖 (現場主管視角)
2024年12月 [月視圖 ▼] [A區 ▼] [篩選 ⚙️]
┌─────────────────────────────────────┐
│ 場地 \ 日期  12/3   12/4   12/5    			        │
├─────────────────────────────────────┤
│ SAC 1      🟡A001  🟢A001  🟢A001   			        │
│                                    				        │
│ SAC 2      🟡A002  🟡A002           			        │
│                                    				        │
│ FAC 1      🟡A003  🟢A003    			           	        │
└─────────────────────────────────────┘
說明：
🟡 = 已排程 (等待工程師開始)
🟢 = 測試中 (工程師已開始)
點擊 A001 → 打開案件詳情 Dialo

案件詳情 Dialog (點擊日曆上的案件時)
┌──────────────────────────────────────┐
│ 案件詳情 - A001                   				     [×]│
├──────────────────────────────────────┤
│ 📋 基本資訊                          				          │
│ ├ 案件ID: A001                      			          │
│ ├ 案件名稱: EMI輻射測試            			          │
│ ├ 法規: EN55032                      		 	          │
│ ├ 測項: Radiated Emission            			          │
│ ├ 優先級: 🔥 高                     				          │
│ └ 狀態: 🟢 測試中                    				          │
│                                      				          │
│ 📅 排程資訊                       				          │
│ ├ 場地: SAC 1                    				          │
│ ├ 預估開始: 2024/12/03 09:00      			          │
│ ├ 預估結束: 2024/12/05 17:00       			          │
│ ├ 負責工程師: 王小明               			          │
│ └ [預估時間變動歷史 📊]          			          │
│                                   				 	          │
│ ⏱️ 實際測試記錄                   	       			          │
│ ├ 實際開始: 2024/12/03 09:15     			          │
│ ├ 累計測試: 8小時30分             			          │
│ ├ 暫停次數: 2次                    				          │
│ └ 狀態: 進行中                     				          │
│                                      				          │
│ 💬 工程師進度回報 (3則)              			          │
│ ┌────────────────────────────────┐         │
│ │ 2024/12/03 10:00 - 王小明      			     │   │
│ │ 狀態: 進行中                   				     │   │
│ │ 內容: 設備校準完成，開始測試   			     │   │
│ └────────────────────────────────┘         │
│ ┌────────────────────────────────┐         │
│ │ 2024/12/03 15:00 - 王小明     			    │   │
│ │ 狀態: 進行中                    				    │   │
│ │ 內容: 發現異常值，需重測某頻段  	     		    │   │
│ └────────────────────────────────┘         │
│ ┌────────────────────────────────┐         │
│ │ 2024/12/04 11:00 - 王小明    			    │   │
│ │ 狀態: 進行中                    	  			    │   │
│ │ 內容: 重測完成，結果符合標準  			    │   │
│ └────────────────────────────────┘         │
│                                      				          │
│ [調整預估時間] [查看完整歷史]        			          │
└──────────────────────────────────────┘

日曆層 (Calendar View)
只顯示「排程」= 案件 + 場地 + 預估時間
顏色代表「案件狀態」
簡潔清晰，主管一眼看懂排程狀況

詳情層 (Dialog)
顯示「所有資訊」= 基本資料 + 排程 + 實際測試 + 進度回報
工程師的回報內容都在這裡
需要點開才看得到

📊 不同角色看到的日曆
排程主管視角
可切換 A區 / B區
看到所有案件的排程
可以看到：
- 哪些案件還沒派案 (藍色)
- 哪些案件已排程 (黃色)
- 哪些案件測試中 (綠色)
- 哪些案件逾期 (紅色)
現場主管視角 (A區)
只看 A區
看到自己負責區域的所有案件
可以：
- 拖拉案件調整時間
- 點擊查看工程師回報
- 調整預估結束時間
工程師視角 (A區 - SAC 1)
只看 A區 - SAC 1 場地
看到分配給自己場地的案件
可以：
- 點擊案件開始測試
- 填寫進度回報
- 送出完成審查
Reviewer視角
只看「待審查」狀態的案件
不需要看日曆
使用列表方式顯示待審案件

•	顏色編碼： 
•	資訊顯示： 
o	Appointment上顯示哪些欄位（案件ID、名稱、測項、工程師、進度%）
o	顯示預估 vs 實際時間的對比
•	篩選功能： 
o	依場地篩選
o	依工程師篩選
o	依案件狀態篩選

測項與法規管理
•	資料來源： 
o	測項清單是固定的，但是要有其他欄位
o	法規清單從Admin管理員維護
•	其他選項： 
o	「其他」選項填寫後，是否自動加入下拉清單？
=>
方案C：僅限該案件使用
流程：
1. 排程主管選「其他」→ 手動輸入「5G天線測試」
2. 「5G天線測試」只記錄在該案件，不加入下拉選單
3. 下次開案還是要重新輸入
優點：最簡單，不影響其他案件
缺點：常用測項需重複輸入

進度回報內容
工程師回報進度時，需要填寫：
•	文字描述（必填）
•	進度狀態 (完成、進行中、Fail)

CSV匯入格式
需要定義CSV的欄位：
案件ID, 案件名稱, 法規, 測項, 優先級?, 備註?
•	需要驗證重複案件ID
•	匯入失敗時的錯誤處理？
步驟1：格式驗證
檢查：檔案格式、欄位數量、必填欄位

步驟2：資料驗證
- 案件ID重複 → 標記為「更新」或「錯誤」
- 法規不在清單 → 標記「需確認」
- 測項不在清單 → 標記「需確認」

步驟3：預覽畫面
┌──────────────────────────────────┐
│ 匯入預覽 (共10筆)                 │
├──────────────────────────────────┤
│ ✓ 8筆可直接匯入                   │
│ ⚠️ 1筆需確認 (測項不在清單)       │
│ ✗ 1筆錯誤 (案件ID重複)            │
│                                  │
│ [顯示詳細] [僅匯入正確資料]       │
│            [取消匯入]             │
└──────────────────────────────────┘

步驟4：錯誤報告
匯出Excel檔案標記錯誤原因

報表與分析
除了甘特圖，需要：
•	場地使用率統計✅
•	工程師工作量分析✅
•	案件準時率（實際 vs 預估）✅
•	匯出Excel報表✅

手機/平板支援
•	工程師不需要在現場用手機操作？
•	不需要支援行動裝置？

